<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Add Journal</title>
    <link rel="stylesheet" href="../../static/style.css">
    <script>
      function handleCheckboxClick(checkbox) {
        var checkboxes = document.getElementsByName("filetype");

        for (var i = 0; i < checkboxes.length; i++) {
        if (checkboxes[i] !== checkbox) {
          checkboxes[i].checked = false;
        }
      }
    }
    function toggleDropdown() {
      var checkbox = document.getElementById("filetype");
      var dropdown = document.getElementById("myDropdown");

      if (checkbox.checked) {
        dropdown.style.display = "block";  // Show the dropdown
      } else {
        dropdown.style.display = "none";   // Hide the dropdown
      }
    }
    </script>

</head>

<body>
<h1>ADD JOURNAL</h1>
<div class="logo">
    <img src="https://logos-world.net/wp-content/uploads/2021/11/UVA-Logo.png" alt="Logo">
  </div>


    <div class="container">
      <form id="JournalForm" method="POST" enctype="multipart/form-data">
          {% csrf_token %}

         <div class="labels">
          <label id="journalTitle-label" for="journalTitle">* Journal Title</label></div>
        <div class="input-tab">
          <input class="input-field" type="text" id="journalTitle" name="journalTitle"
                 placeholder="Enter Journal Title" required autofocus></div>

         <div class="labels">
          <label id="auth_fname-label" for="auth_fname">* Author's First Name</label></div>
        <div class="input-tab">
          <input class="input-field" type="text" id="auth_fname" name="auth_fname" placeholder="Enter First Name"
                 required></div>

         <div class="labels">
          <label id="auth_lname-label" for="auth_lname">* Author's Last Name</label></div>
        <div class="input-tab">
          <input class="input-field" type="text" id="auth_lname" name="auth_lname" placeholder="Enter Last Name"
                 required></div>
                   <div class="labels">
          <label id="countryOrigin-label" for="countryorigin">* Author's Country of Origin</label></div>
        <div class="input-tab">
          <input class="input-field" type="text" id="countryorigin" name="countryorigin"
                 placeholder="Enter Author's Country of Origin"
                 required></div>
                   <div class="labels">
          <label id="countryTraveled-label" for="countrytravel">* Country Author Traveled To</label></div>
        <div class="input-tab">
          <input class="input-field" type="text" id="countrytravel" name="countrytravel"
                 placeholder="Enter Country Author Traveled To"
                 required></div>


        <div class="labels">
          <label>* Century<br>(Check all that apply):</label></div>
        <div class="input-tab">
          <input type="checkbox" name="18th" value="on">18th<br>
          <input type="checkbox" name="19th" value="on">19th<br>
          <input type="checkbox" name="other_box" value="on">Other
            <input type="number" id="otherNum" name="otherNum" placeholder="example: 17"><br>
            <br>
        </div>


        <div class="labels">
            <label >* Select Journal File Type</label>
        </div>
          <div class="input-tab">
          <input type="checkbox" name="filetype" value="txt"
                 onclick="handleCheckboxClick(this); toggleDropdown()">.txt(text file) *automatic text parse might not be
              accurate<br>
          <input type="checkbox" name="filetype" id = filetype  value="xlsx"
                 onclick="handleCheckboxClick(this); toggleDropdown()">.xlsx(excel) *each row is a journal entry
              file)<br>
        </div>


          <div class="input-tab" id="myDropdown" style="display: none;">
    <!-- Dropdown content goes here -->
              <div class="labels">
            <label>* date should be in MM-DD-YYYY format, column numbers start at 0, so column A = 0, Column B =
            1, etc, sites are any place that isn't the city/more specific like a lake, sketch should contain a link
                to the image, full journal entry means the entire journal entry for that date should go there</label>
            </div>
            <input class="input-field" type="number" id="date_column" name="date_column"
                   placeholder="dates column number *required"><br>
              <input class="input-field" type="number" id="sites_column" name="sites_column"
                     placeholder="sites column number"><br>
              <input class="input-field" type="number" id="city_column" name="city_column"
                     placeholder="city column number"><br>
              <input class="input-field" type="number" id="notes_column" name="notes_column"
                     placeholder="notes column number"><br>
              <input class="input-field" type="number" id="sketch_column" name="sketch_column"
                     placeholder="sketches column number"><br>
              <input class="input-field" type="number" id="entry_column" name="entry_column"
                     placeholder="full journal entry column number"><br>
            <br>
          </div>

        <div class="labels">
            <label>* Select Journal File<br>(.txt format or .xlsx format only)</label>
        </div>
        <div class="input-tab">
        <input type="file" id="file" name="file"> <br>
        </div>

          <br>

        <div class="btn">
          <button id="submit" type="submit">Submit</button>
        </div>

      </form>
         <p><a href="{% url 'home' %}">Return to home</a></p>
        {% if url %}
        <p>Uploaded file: <a href="{{ url }}">{{ url }}</a> </p>
        {% endif %}
    </div>

<footer>
      <p>&copy 2023 Visual Resources Center</p>
</footer>


